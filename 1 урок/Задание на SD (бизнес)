Нужен System Design для медицинской системы записи к специалистам сети коммерческих поликлиник в стране N. 
Система дожна быть доступна через веб-портал и через мобильное приложение.

1) Требования:

- Функциональные:

    1. Регистрация и управление аккаунтом пользователя:
        - Пациенты должны иметь возможность зарегистрироваться в системе, используя электронную почту, номер телефона или учетные записи социальных сетей.
        - Пациенты могут редактировать личные данные (например, адрес, номер телефона, пол, дата рождения).
        - Врачи и администраторы могут иметь доступ к различным разделам в зависимости от их роли.
        - Подтверждение учетной записи через email или SMS.

    2. Запись на прием:
        - Пациенты должны иметь возможность выбрать врача по имени, специальности, рейтингу или дате/времени приема.
        - Отображение актуального расписания врачей с возможностью выбора свободного времени.
        - Подтверждение записи на прием с отправкой уведомлений пациенту и врачу.
        - Возможность отмены или изменения записи до определенного времени.
        - Уведомления о записи, изменении расписания или отмене визита (email, SMS, push).

    3. Просмотр истории посещений:
        - Пациенты могут просматривать историю своих визитов, включая дату, имя врача, диагноз, назначенные анализы и рекомендации.
        - Врачи могут просматривать медицинскую историю пациента, если это разрешено системой.

    4. Уведомления и напоминания:
        - Пациенты получают напоминания о предстоящем визите, изменениях в расписании или других событиях, связанных с их приемами.
        - Администраторы и врачи могут получать уведомления о новых записях, отменах, изменениях в расписании.

    5. Административная панель:
        - Администраторы могут управлять расписанием врачей, добавлять или редактировать специалистов, назначать доступное время для записи.
        - Управление пользователями: создание, редактирование и удаление учетных записей пациентов, врачей и администраторов.
        - Управление медицинскими записями и результатами анализов пациентов.

    6. Платежи:
        - Возможность оплатить услуги врача онлайн через интеграцию с платежными системами (например, через банковские карты, электронные кошельки).
        - История платежей доступна пациентам и администраторам.

    7. Поиск врачей:
        - Пациенты могут искать врачей по различным фильтрам: специальность, рейтинг, доступность, опыт работы, отзывы других пациентов.
        - Отображение информации о враче, его специализации, рейтинге и отзывах.

    8. Медицинские записи и документы:
        - Система должна поддерживать загрузку медицинских документов (анализы, результаты обследований) в формате PDF, DOCX, 
          и хранить их в привязке к конкретным визитам.
        - Врачи могут прикреплять назначения и рекомендации к визитам пациентов.

    9. Система отзывов и рейтингов:
        - Пациенты могут оставлять отзывы и оценки врачам после приема.
        - Отзывы отображаются в профиле врача, с возможностью фильтрации по датам, оценкам и отзывам.

    10. Поддержка нескольких поликлиник:
        - Система должна поддерживать работу с несколькими поликлиниками и отображение информации по каждому заведению отдельно.
        - Пациенты должны иметь возможность записываться в любую поликлинику сети.

    11. Возможность интеграции с внешними медицинскими системами.
        Такими как системы электронных медицинских карт (ЭМК), через API.

- Нефункциональные:

    1) Производительность:
        - Система должна обеспечивать обработку запросов пользователей с минимальными задержками 
          (например, время отклика API должно быть не более 500 мс в 95% случаев).
        - Время загрузки страницы веб-портала не должно превышать 2 секунд.

    2) Расчет нагрузки на будущую систему

    1. Аудитория приложения

        1.1. Количество пользователей
            Вопрос: Какое количество пользователей (DAU / MAU) ожидается, и как оно будет расти?
            Ответ: 10 000 DAU.

        1.2. Поведение пользователей
            Вопрос: Сколько запросов в день, в среднем, будет делать один пользователь?
            Ответ: от 50 запросов в день - пациент, врачи до 100 запросов в день, до 500 запросов в день - администраторы.

        1.3. Регионы использования
            Вопрос: В каких регионах/странах будет доступно приложение?
            Ответ: Только в РФ, все регионы.

    2. Особенности приложения

        2.1. Сезонные изменения нагрузки
            Вопрос: Есть ли периоды, когда количество пользователей резко увеличивается?
            Ответ: Да, осенние и весенние периоды - пики сезонных заболеваний.

        2.2. Хранение данных
            Вопрос: Данные хранятся постоянно или можно удалять/агрегировать их со временем?
            Ответ: Храним последние 5 лет, в соответствии с законодательством, 
                   Храним только минимально необходимые ПД (фио, дата рождения, пол, адрес, телефон/email)
        
        2.3. Лимиты и ограничения
            Вопрос: Какой максимальный размер загружаемого файла медицинской документации?
            Ответ: 10 МБ (например, снимки МРТ/КТ/Кардиограмма/результаты анализов)

            Вопрос: Какое максимальное количество записей пациент может создать в день?
            Ответ: 5 записей.
            
            Вопрос: Какой минимальный интервал между записями у одного врача?
            Ответ: 30 минут
            
            Вопрос: Какое ограничение на максимальный срок предварительной записи? 
            Ответ: 90 дней

        2.4. Временные ограничения
            Вопрос: Как быстро должен выполняться API-запрос к системе?
            Ответ: Время отклика API к системе не более 500 милисекунд по 95 перцентилю.

            Вопрос: Как быстро должены отправляться уведомления (sms, email, push) пользователям системы?
            Ответ: Время отправки уведомлений не более 5 секунд.
            
            Вопрос: Какое время загрузки страницы веб-портала:
            Ответ: не должно превышать 2 секунд.

        2.5. Доступность приложения
            Вопрос: Сколько времени в году приложение может быть недоступно?
            Ответ: Не более нескольких часов в год (99.9%)


3) API (основные операции)
    - Получение расписания врача.
    - Запись на прием.
    - Возможность отмены/изменения записи до определенного времени (не позднее чем за 2 часа до приема).
    - Получение истории посещений.
    - Редактирование расписания врачей.
    - Редактирование пользователей.
    - Редактирование медицинских записей.

4) Модель данных

5) Оценка необходимого количества дисков для хранения и обработки данных

6) Верхнеуровневое проектирование основных компонентов системы и их отношений с другими компонентами системы.

- API Gateway (RESTful API) + Balancer
  Централизованная точка для взаимодействия между Frontend и Backend компонентами. Реализует бизнес-логику и обработку запросов.
    - Аутентификация пользователей.
    - Работа с записями на прием (создание, изменение, отмена).
    - Управление медицинскими записями и документами.
    - Интеграция с платежными сервисами.

- Микросервисы
  Разделение бизнес-логики на отдельные микросервисы, которые могут включать:
    - Микросервис записи на прием.
    - Микросервис управления пользователями.
    - Микросервис платежей.
    - Микросервис уведомлений (email, SMS, push).


